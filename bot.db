const sqlite3 = require("sqlite3").verbose();
const path = require("path");

// Unified bot database
const db = new sqlite3.Database(path.join(__dirname, "bot.db"));

// --------- Scam list ---------
db.run(`
  CREATE TABLE IF NOT EXISTS scammers (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT,
    fb_link TEXT
  )
`);

// --------- Bank / Coins ---------
db.run(`
  CREATE TABLE IF NOT EXISTS users (
    id TEXT PRIMARY KEY,
    coins INTEGER
  )
`);

// --------- Redeem pets ---------
db.run(`
  CREATE TABLE IF NOT EXISTS redeem (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    pet_name TEXT UNIQUE,
    price INTEGER
  )
`);

// --------- Checktt / Message count ---------
db.run(`
  CREATE TABLE IF NOT EXISTS check (
    threadID TEXT,
    userID TEXT,
    count INTEGER,
    PRIMARY KEY (threadID, userID)
  )
`);

// --------- Slot / Lottery logs (optional) ---------
// You can add more tables for logs or games if needed

module.exports = { db };
